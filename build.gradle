apply plugin: 'java'

configurations {
    bundle

    compile {
        extendsFrom bundle
    }
}

sourceSets {
    main {
        java {
            srcDir 'src'
        }
        resources {
            srcDir 'res'
        }
   }
   test {
       java {
           srcDir 'test'
       }
   }
}

sourceCompatibility = 1.7
targetCompatibility = 1.7


repositories {
    mavenCentral()
    maven {
        url 'http://nexus.dmdirc.com/nexus/content/repositories/thirdparty/'
    }
}

dependencies {
    compile group: 'com.google.code.findbugs', name: 'jsr305', version: '2.+'
    compile group: 'com.squareup.dagger', name: 'dagger-compiler', version: '1.2.1'
    bundle group: 'com.squareup.dagger', name: 'dagger', version: '1.2.1'
    bundle group: 'com.esotericsoftware.yamlbeans', name: 'yamlbeans', version: '1.+'
    bundle group: 'com.brsanthu', name: 'migbase64', version: '2.2'
    bundle group: 'net.kencochrane.raven', name: 'raven', version: '4.+'
    bundle group: 'com.google.guava', name:'guava', version: '17.+'
    bundle group: 'net.engio', name: 'mbassador', version: '1.1.10'
    bundle project(':modules:util')
    bundle project(':modules:parser')
}

subprojects {
    apply plugin: 'java'

    sourceSets {
        main {
        java {
            srcDir 'src'
        }
        resources {
            srcDir 'res'
        }
       }
       test {
           java {
           srcDir 'test'
           }
       }
    }

    sourceCompatibility = 1.7
    targetCompatibility = 1.7
}
